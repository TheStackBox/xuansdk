/**
* Copyright 2014-2015 Cloud Media Sdn. Bhd.
*
* This file is part of Xuan Automation Application.
*
* Xuan Automation Application is free software: you can redistribute it and/or modify
* it under the terms of the GNU General Public License as published by
* the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
*
* Xuan Automation Application is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU General Public License for more details.
*
* You should have received a copy of the GNU General Public License
* along with Xuan Automation Application.  If not, see <http://www.gnu.org/licenses/>.
*/
@import '_base';
@import "compass/css3/transition";
@import "compass/css3/opacity";

@font-face {
    font-family: 'SceneIcon';
    src:url('fonts/SceneIcon.eot');
    src:url('fonts/SceneIcon.eot?#iefix') format('embedded-opentype'),
        url('fonts/SceneIcon.woff') format('woff'),
        url('fonts/SceneIcon.ttf') format('truetype');
       // url('fonts/SceneIcon.svg#SceneIcon') format('svg');
    font-weight: normal;
    font-style: normal;
} 

$popPaneBg: #e0e0e0;
$defaultBgColor: #fcfcfc;

@mixin scene-icon {
    font-family: 'SceneIcon', sans-serif;
    speak: none;
    font-style: normal;
    font-weight: normal;
    font-variant: normal;
    text-transform: none;
    display: inline-block;
    /* Better Font Rendering =========== */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

a{
    text-decoration: none!important;
}

.tab-spacer {
    height: 4.5em;
}

.button-footer-spacer {
    height: 2.5em;
}

.scene-list-page {
    $subNavHeight: 2.5em;
    $bottomBorderColor: #e9e9e9;
    //padding-top: .5em;
    
    a{
        text-decoration: none;
        //float: left;
    }
    .sub-nav {
        border-bottom: 1px solid #b3b3b3;
        padding: .1em 1.5em;
        // height: 1.3em;
        height: $subNavHeight;
        position: fixed;
        z-index: $zNavBar;
        background: white;
        width: 100%;

        #filter-option-btn {
            //@extend %vertical-middle;
            font-size: .76em;
            float:left;
            color:$primary-color;
            height: 100%;
            width:50%;
            padding-top: 0.9em;
            display:inline-block;
            // #indicator.glyphicon-chevron-down {
            #indicator {
                font-size:8pt;
                margin-left: .3em;
            }

            .glyphicon-chevron-down:before, .glyphicon-chevron-up:before{
                padding-left: 0.5em;
            }
        }

        #add-btn {
            @extend %vertical-middle;
            //margin-top: 10px;
            right: 0px;
            //top: 5px;
            float: right;
        }

        #add-btn:before {
            font-family: $kuroboxFont;
            font-size: 0.7em;
            position: absolute;
            display:inline-block;
            top: 0.35em;//3px;
            left: 0.52em;//5px;
            color: #fa2283;
            content: '\e696';
            font-weight: bold;
        }

    }

    #filter-option {
        position:fixed;
        z-index: $zNavBar - 1;
        width: 100%;
        height:100%;

        .dark-layer-90 {
            position: relative;
            z-index: inherit;
        }

        #filter-list {
            $fontSize: .9em;
            background-color: #ffffff;
            width: 100%;
            overflow-y: scroll;
            height: 290px;
            font-size: $fontSize;
            padding: 0 0 1px;
            
            li.element-touch {
                @include hover-bg();
            }

            li {
                border-bottom: 1px solid $bottomBorderColor;
                padding: 0 1.5em;
                height: 3.5em;//4em;

                .item-container {
                    @extend %vertical-middle;
                    line-height: .9em;

                    .item-label {
                    }

                    .zone {
                        font-size: $fontSize * .99;
                        color: #8b8b8b;
                        position: relative;
                        top:0.2em;
                    }
                }
            }
        }
    }


    .device-option{
        //border: 1px solid red;
        width: 50px;
        height: 50px;
        display: inline-block;
        position: absolute;
        bottom: 10px;
        right: -10px;
    }
    
    #scene-list, #filter-option {
        padding-top: $subNavHeight;
    }

    #scene-list.row {
        margin-left: 0em !important;
        margin-right: 0em !important;
        padding: 0em 1.4em;//$subNavHeight 1.4em 0;

        .empty-list {
            margin-top: 1.7em;
            color: #757575;
            font-size: 0.8em;
        }

        .scene-list-item {
            // border: 1px solid red;
            border-bottom: 1px solid $bottomBorderColor;
            height: 6.8em;
            padding-left: 0;
            padding-right: 0;

            .element-touch {
                @include hover-bg();
            }

            .touch-area {
                width: 100%;
                height: 100%;
                display: block;
            }

            .icon {
                @extend %vertical-middle;
                float:left;
            }

            [data-icon]:before {
                @include scene-icon();
                content: attr(data-icon);
                font-size: 4.3em;
                color: #fa2283;
                display: inline-block;
                padding-left: 5px;
                padding-top: 0px;
                line-height: 100px;
            }

            .name {
                // text ellipsis
                $line-height: 1.42em;
              
                line-height:$line-height;
                width: 60%; 
                // meiai: disable it use dot dot multiline instead
                /* overflow: hidden;
                height: $line-height * 2;
                text-overflow: ellipsis; */
               @include dotdot-multiline(3);
               @extend %vertical-middle;
                float:left;
                margin-left: .8em;
                color: #0b0b0b;
                font-size: .95em;
            }

            .option {
                bottom: 0.5em;
                right: 0em;
                //margin: 0 .3em .3em 0;
                margin:1em .5em .1em .5em;
            }
        }
    }

    @media only screen and (min-width: 400px) and (max-width: 767px) {
        /* phone */
        #filter-option{
            #filter-list {
                height: 600px;
            }
        }
        #scene-list.row {
            .scene-list-item {
                // border: 1px solid yellow;
                height: 120px;
                 .name {
                     width: 70%; 
                }
            }
        }
    }

    @media only screen and (min-width: 768px) and (max-width: 959px) {
        /* desktop */
        #filter-option{
            #filter-list {
                height: 900px;
            }
        }
        #scene-list.row {
            margin-top: .42em;

            .scene-list-item {
                // border: 1px solid purple;
                height: 130px;
                .name {
                     width: 75%; 
                }
            }
        }
    }

    @media only screen and (min-width: 1px) and (max-width: 399px) {
        /* phone */

        #scene-list.row {
            .scene-list-item {
                // border: 1px solid blue;
            }
        }
    }
}

.scene-editor-page {
    .header {
        .top-bar-thick {
            padding-top: .8em;
        }
    }

    .body, #scene-delay-editor {
    
        padding:0 .7em;

        @media only screen and (min-width: 1px) and (max-width: 767px) {
            padding-top: 55px;
        }

        @media only screen and (min-width: 768px) and (max-width: 991px) {
            padding-top: 40px;
        }

        @media only screen and (min-width: 992px) {
            padding-top: 25px;
        }

        #name_txt {
            font-size: .8em;
        }
    }

    #scene-action-item-mover {
        padding:0 .7em;

        @media only screen and (min-width: 1px) and (max-width: 767px) {
            padding-top: 30px;
        }

        @media only screen and (min-width: 768px) and (max-width: 991px) {
            padding-top: 10px;
        }

        @media only screen and (min-width: 992px) {
            padding-top: 0;
        }

        #name_txt {
            font-size: .8em;
        }
    }

    #device_explorer {
        padding-top: .6em;
    }

    #device-setting {
        padding-top: 1em;
    }

    .icon-holder {
        margin-top:.4em;
        text-align:center;
        margin-bottom: .2em;
    }

    .icon-holder[data-icon]:before{
        font-family: "SceneIcon", sans-serif;
    }
    
    #scene-edit-icon {
        text-align:center;
        margin-bottom: .8em;

        .scene-icon-edit {
            position: relative;
        }

        .scene-icon-edit.element-touch {
            @include hover-bg();
        }
    }
    
    .actions-summary-list {
        ul {
            margin-top: 3em;
            padding-left: 1.3em;
            padding-bottom: 50px;

            li {
                position: relative;
            }

            li:not(:last-child) {
                //@extend li;
                padding-bottom: .5em;
                border-left: solid 1px #fed5e1;
            }

            li {
               padding-bottom: 2em;

                .add-container, .icon {
                    position: absolute;
                    left: -29px;
                    
                    .nav-icon-add {
                        // position: relative;
                        top: -12px;
                        left: 9px;
                        @media only screen and (min-width: 768px) and (max-width: 991px) {
                            left: 7px;
                        }
                        background-color: #fcfcfc;
                    }
                }

                .icon {
                    @include kurobox-webicon();
                    font-size: 2em;
                    color: $primary-color;
                    background-color: #fcfcfc;
                    text-align: center;
                    width: 1.7em;
                    top:-0.3em;

                    @media only screen and (min-width: 400px) and (max-width: 767px) {
                        width: 1.6em;
                    }
                    @media only screen and (min-width: 768px) and (max-width: 991px) {
                        width: 1.4em;
                    }
                }

                .icon.warning:before {
                    color:$alert-color;
                    content: '\e634';
                    font-size: .7em;
                    position: relative;
                    top: -.2em;
                }

                .content {
                    margin-left: 2.2em;
                    min-height: 4.5em;//6em;
                    //font-size: 0.9em;

                    .action-desc {
                        font-size: 0.9em;
                        word-wrap: break-word;

                        .color:before {
                            @include kurobox-webicon();
                            content: '\e6ec'
                        }
                    }

                    .location {
                        color: $light-gray;
                        font-size: 0.7em;//10pt;
                        padding-top: .8em;
                        display: inline-block;
                        width: 80%;
                    }
                }

                .option-btn {
                    /* margin: 10px;
                    right: -5px; */
                    //margin-top: 0.3em;
                    width: 2.5em;
                    height: 2.5em;
                    display: inline-block;
                    position: absolute;
                    //bottom: 10px;
                    right: 0px;

                    .device-cirle-option{
                        margin-top: 0.5em;
                    }
                }

                .option-btn.element-touch {
                    @include hover-bg();
                }

                @media only screen and (min-width: 400px) and (max-width: 767px) {
                    .device-icon-option:before{
                        top:0em;
                    }
                }
            }

            .add-trigger {
                height: 4em;

                .element-touch {
                    @include hover-bg();
                }
            }
        }
    }

    #scene-action-item-mover {
        .gridster {

            .preview-holder {
                @include transition(none);
                border: 0;
                background-color: $defaultBgColor;
                // border: dashed 1px #767676;
                // background-color: #c6c2c2;
            }

            .gs-w:not(.preview-holder) {
                @include transition(opacity .3s, left .3s, top .3s, border .3s);
                // padding-top: .5em;
                border-bottom: solid 1px $dim;
                border-top: solid 1px #ffffff;
                border-left: solid 1px #ffffff;
                border-right: solid 1px #ffffff;
                background-color: #fcfcfc;
                
                .content {
                    @extend %vertical-middle;
                    position: relative;
                    width: 100%;
                    margin: auto;

                    .icon:before {
                        font-size: 2.6em;
                        line-height: initial;
                    }

                    .icon {
                        @extend %vertical-middle;
                        float: left;
                        padding-right: .6em;
                    }

                    .icon-mover:before {
                        font-family: $kuroboxFont;
                        font-size: 1.3em;
                        content: "\e68e"; 
                        display:inline-block;
                        color: #fa2283;
                    }

                    .icon-mover {
                        @extend %vertical-middle;
                        float: right;
                        padding-right: .4em;
                    }

                    .description {
                        @extend %vertical-middle;
                        float: left;
                        width: 69%;
                        @include dotdot-multiline(3);
                    }
                }
            }

            .gs-w.hold,.gs-w.player-revert.hold {
                @include transition(left .3s,top .3s, border .4s!important);
                border: solid 1px $primary-color;
            }
        }
    }

    #scene-action-item-mover.dragging {
        .gs-w.player {
            border: solid 1px $primary-color;
        }

        .gs-w:not(.preview-holder):not(.player) {
            @include opacity(.4)
        }
        
    }

    #scene-delay-editor {
        .mbsc-mobiscroll .dwl {
            color: $dim;
        }
    }

    .icon-delay, .icon-delay:before{
        // used in summary action list and action item mover
        color: $secondary-color !important;
    }
}

ul.pop-menu {
    position: relative;
    top: -10px;         // against shell's padding

    .pop-menu-item {
        padding: 1em 1.4em;
        border-bottom: solid 1px $dim; 

        .title {
            font-size: 1em;//16pt;
            color: $dark-gray;
        }

        .desc {
            font-size: 0.8em;//9pt;
            color: $light-gray;
        }
    }

    .pop-menu-item.element-touch {
        @include hover-bg();
    }

    .pop-menu-item:last-child {
        border-bottom: solid 0px white;
    }
}

.scene-option-menu {
    position: relative;
    top: -10px;
    
    .title {
        text-align: center;
        margin-top: 7px;
        color: #5c5c5c;
        margin: .5em 0;
    }

    .option {
        margin: 0 10px;
        width: 60px;

        p {
            color: #000;
            text-align: center;
            font-size: .6em;
            margin: 0;
            padding: 0;
            top: -5px;
            bottom: 0;
        }

    }

    .element-touch {
        opacity: .50;
        filter: alpha(opacity=50);
        -ms-filter: "alpha(opacity=$value)";
        -khtml-opacity: .50;
        -moz-opacity: .50;
    }

}

.scene-icon-picker {
    position: relative;
    // z-index: inherit;
    bottom: inherit;
    left: inherit;
    background-color: white;

    @media only screen and (min-width: 200) and (max-width: 400px) {
        height: 312px !important;
    }
    @media only screen and (min-width: 400px) and (max-width: 767px) {
        height: 450px !important;
    }
    @media only screen and (min-width: 768px) and (max-width: 991px) {
         height: 600px !important;
    }
    
    #icon-holder {
        overflow-y: auto;
       width:100%;
       height: 250px;
       @media only screen and (min-width: 400px) and (max-width: 767px) {
            height: 370px;
       }  
       @media only screen and (min-width: 768px) and (max-width: 991px) {
            height: 530px;
       }
       margin-top: 20px;
    }
}

.scene-feedback-page {
    padding-top: .5em;
    .action-item-list {
        margin-left: 0;
        margin-right: 0;

        li {
            padding-left:0;
            padding-right:0;
            border-bottom: 1px $dim solid;
            height: 5em;
            padding: .5em;

            .container1 {
                position: relative;
                width: 100%;
                height:100%;
                $status_width: 17px;

                .status {
                    @extend %vertical-middle;
                    float:left;
                    width: $status_width;
                    @include kurobox-webicon();
                }

                .status.busy {
                    left: ($status_width/2);
                }

                .status.ok:before {
                    content:'\e619';
                    color: #98b700;
                    font-weight: bolder;
                }

                .status.error:before {
                    content:'\e6ac';
                    color: $alert-color;
                }

                .label {
                    // override
                    color: inherit;
                    font-weight: normal;
                    text-align: left;
                    $line-height: 1.42em;
                    line-height:$line-height;
                    width: 73%; 
                    padding: 0;
                    white-space: inherit;

                    @include dotdot-multiline(2);
                    float:left;
                    margin-left: 1em;
                    color: #0b0b0b;
                    font-size: .95em;

                    @extend %vertical-middle;
                }

                .label.fix-busy-status {
                    left: $status_width;
                }

                .retry-btn {
                    float:right;
                    @include kurobox-webicon();

                    @extend %vertical-middle;
                }


                .retry-btn:before {
                    content: '\e691';
                    font-size: 1.4em;
                    color: $primary-color;
                }

                .retry-btn.disabled {
                    color: $dim;
                }
            }
        }
    }

    .footer {
        // override
        padding: 0;
        padding-left: 0;
        padding-right: 0;
    }
}